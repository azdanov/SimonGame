{"version":3,"sources":["webpack:///js/main.4a029645cba55df9daae.js","webpack:///webpack/bootstrap 4a029645cba55df9daae","webpack:///./scripts/scripts.js","webpack:///./scripts/sounds.js","webpack:///./scripts/game.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","$info","$pads","undefined","_sounds","_game","_game2","obj","default","document","querySelectorAll","querySelector","$restart","$navigation","$navigationDisplay","$strict","addEventListener","activatePads","removeEventListener","style","display","length","classList","add","textContent","window","setTimeout","onmousedown","playSound","bind","ontouchstart","onmouseup","stopSound","ontouchend","updatePlayerSequence","onclick","initGame","checked","onchange","strict","sounds","gain","linearRampToValueAtTime","context","currentTime","ramp","playError","callback","arguments","errorSound","AudioContext","frequencies","errorOscillator","createOscillator","type","frequency","start","createGain","connect","destination","oscillators","map","oscillator","getRandomInt","min","max","Math","ceil","floor","random","triggerMouseEvent","node","eventType","clickEvent","createEvent","initEvent","dispatchEvent","updateCounter","_scripts","game","level","maxLevel","playerSequence","gameSequence","gameLength","newSequence","push","verifySequence","playSequence","nextLevel","remove","timeOut"],"mappings":"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","file":"./js/main.4a029645cba55df9daae.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.$info = exports.$pads = undefined;\n\nvar _sounds = __webpack_require__(1);\n\nvar _game = __webpack_require__(4);\n\nvar _game2 = _interopRequireDefault(_game);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar $pads = exports.$pads = document.querySelectorAll('.pad');\nvar $info = exports.$info = document.querySelector('.info');\nvar $restart = document.querySelector('#restart');\nvar $navigation = document.querySelector('#navigation');\nvar $navigationDisplay = document.querySelector('#navigation + label');\nvar $strict = document.querySelector('#strict');\n\n$info.addEventListener('click', function activatePads() {\n  $info.removeEventListener('click', activatePads, false);\n  $navigationDisplay.style.display = 'block';\n\n  var _loop = function _loop(i) {\n    $pads[i].classList.add('active');\n    $info.textContent = '';\n    window.setTimeout(function () {\n      $pads[i].onmousedown = _sounds.playSound.bind(null, i);\n      $pads[i].ontouchstart = _sounds.playSound.bind(null, i);\n      $pads[i].onmouseup = _sounds.stopSound.bind(null, i);\n      $pads[i].ontouchend = function () {\n        (0, _sounds.stopSound)(i);\n        _game2.default.updatePlayerSequence(i);\n      };\n      $pads[i].onclick = _game2.default.updatePlayerSequence.bind(null, i);\n      $restart.onclick = function () {\n        window.setTimeout(_game2.default.initGame, 200);\n        $navigation.checked = false;\n      };\n      $strict.onchange = function () {\n        _game2.default.strict = $strict.checked;\n        $navigation.checked = false;\n      };\n      _game2.default.initGame();\n    }, 1000);\n  };\n\n  for (var i = 0; i < $pads.length; i++) {\n    _loop(i);\n  }\n}, false);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar context = new AudioContext();\nvar frequencies = [415.305, 311.127, 247.942, 207.652]; // Green, Red, Yellow, Blue\n\nvar ramp = 0.1;\n\nvar errorOscillator = context.createOscillator();\nerrorOscillator.type = 'triangle';\nerrorOscillator.frequency.value = 42;\nerrorOscillator.start(0.0);\nvar errorSound = context.createGain();\nerrorOscillator.connect(errorSound);\nerrorSound.gain.value = 0;\nerrorSound.connect(context.destination);\n\nvar oscillators = frequencies.map(function (frequency) {\n  var oscillator = context.createOscillator();\n  oscillator.type = 'sine';\n  oscillator.frequency.value = frequency;\n  oscillator.start(0.0);\n  return oscillator;\n});\n\nvar sounds = oscillators.map(function (oscillator) {\n  var gain = context.createGain();\n  oscillator.connect(gain);\n  gain.connect(context.destination);\n  gain.gain.value = 0;\n  return gain;\n});\n\nfunction playSound(i) {\n  sounds[i].gain.linearRampToValueAtTime(0.5, context.currentTime + ramp);\n}\n\nfunction stopSound(i) {\n  sounds[i].gain.linearRampToValueAtTime(0, context.currentTime + ramp);\n}\n\nfunction playError() {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  errorSound.gain.linearRampToValueAtTime(1, context.currentTime + ramp);\n  window.setTimeout(function () {\n    errorSound.gain.linearRampToValueAtTime(0, context.currentTime + ramp);\n    callback();\n  }, 800);\n}\n\nexports.playSound = playSound;\nexports.stopSound = stopSound;\nexports.playError = playError;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(3);\nmodule.exports = __webpack_require__(0);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _sounds = __webpack_require__(1);\n\nvar _scripts = __webpack_require__(0);\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nfunction triggerMouseEvent(node, eventType) {\n  var clickEvent = document.createEvent('MouseEvents');\n  clickEvent.initEvent(eventType, true, true);\n  node.dispatchEvent(clickEvent);\n}\n\nfunction updateCounter() {\n  _scripts.$info.textContent = game.level;\n}\n\nvar game = {\n  maxLevel: 20,\n  strict: false,\n  level: 1,\n  playerSequence: [],\n  gameSequence: [],\n  gameLength: 20,\n  newSequence: function newSequence() {\n    game.level = 1;\n    updateCounter();\n    for (var i = 0; i < game.gameLength; i++) {\n      game.gameSequence.push(getRandomInt(0, 4));\n    }\n  },\n  verifySequence: function verifySequence() {\n    for (var i = 0; i < game.playerSequence.length; i++) {\n      if (game.playerSequence[i] !== game.gameSequence[i]) {\n        if (game.strict) {\n          game.initGame();\n          return;\n        }\n        game.playerSequence = [];\n        (0, _sounds.playError)(game.playSequence);\n        return;\n      }\n    }\n    if (game.playerSequence.length === game.level) {\n      window.setTimeout(game.nextLevel, 500);\n    }\n  },\n  nextLevel: function nextLevel() {\n    game.level++;\n    if (game.level > game.maxLevel) {\n      _scripts.$info.classList.remove('count');\n      _scripts.$info.textContent = 'Won!';\n      window.setTimeout(game.initGame, 5000);\n      return;\n    }\n    updateCounter();\n    game.playerSequence = [];\n    game.playSequence();\n  },\n  updatePlayerSequence: function updatePlayerSequence(i) {\n    game.playerSequence.push(i);\n    game.verifySequence();\n  },\n  playSequence: function playSequence() {\n    for (var i = 0; i < _scripts.$pads.length; i++) {\n      (0, _sounds.stopSound)(i);\n    }\n    var timeOut = 0;\n\n    var _loop = function _loop(_i) {\n      window.setTimeout(function () {\n        _scripts.$pads[game.gameSequence[_i]].classList.add('playing');\n        triggerMouseEvent(_scripts.$pads[game.gameSequence[_i]], 'mousedown');\n      }, timeOut);\n      timeOut += 600;\n      window.setTimeout(function () {\n        triggerMouseEvent(_scripts.$pads[game.gameSequence[_i]], 'mouseup');\n        _scripts.$pads[game.gameSequence[_i]].classList.remove('playing');\n      }, timeOut);\n      timeOut += 300;\n    };\n\n    for (var _i = 0; _i < game.level; _i++) {\n      _loop(_i);\n    }\n  },\n  initGame: function initGame() {\n    _scripts.$info.classList.add('count');\n    game.gameSequence = [];\n    game.playerSequence = [];\n    game.newSequence();\n    game.playSequence();\n  }\n};\n\nexports.default = game;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// js/main.4a029645cba55df9daae.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4a029645cba55df9daae","import {playSound, stopSound} from './sounds'\r\nimport game from './game'\r\n\r\nexport const $pads = document.querySelectorAll('.pad')\r\nexport const $info = document.querySelector('.info')\r\nconst $restart = document.querySelector('#restart')\r\nconst $navigation = document.querySelector('#navigation')\r\nconst $navigationDisplay = document.querySelector('#navigation + label')\r\nconst $strict = document.querySelector('#strict')\r\n\r\n$info.addEventListener('click', function activatePads () {\r\n  $info.removeEventListener('click', activatePads, false)\r\n  $navigationDisplay.style.display = 'block'\r\n  for (let i = 0; i < $pads.length; i++) {\r\n    $pads[i].classList.add('active')\r\n    $info.textContent = ''\r\n    window.setTimeout(() => {\r\n      $pads[i].onmousedown = playSound.bind(null, i)\r\n      $pads[i].ontouchstart = playSound.bind(null, i)\r\n      $pads[i].onmouseup = stopSound.bind(null, i)\r\n      $pads[i].ontouchend = () => {\r\n        stopSound(i)\r\n        game.updatePlayerSequence(i)\r\n      }\r\n      $pads[i].onclick = game.updatePlayerSequence.bind(null, i)\r\n      $restart.onclick = () => {\r\n        window.setTimeout(game.initGame, 200)\r\n        $navigation.checked = false\r\n      }\r\n      $strict.onchange = () => {\r\n        game.strict = $strict.checked\r\n        $navigation.checked = false\r\n      }\r\n      game.initGame()\r\n    }, 1000)\r\n  }\r\n}, false)\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/scripts.js","const context = new AudioContext()\r\nconst frequencies = [415.305, 311.127, 247.942, 207.652] // Green, Red, Yellow, Blue\r\n\r\nconst ramp = 0.1\r\n\r\nconst errorOscillator = context.createOscillator()\r\nerrorOscillator.type = 'triangle'\r\nerrorOscillator.frequency.value = 42\r\nerrorOscillator.start(0.0)\r\nconst errorSound = context.createGain()\r\nerrorOscillator.connect(errorSound)\r\nerrorSound.gain.value = 0\r\nerrorSound.connect(context.destination)\r\n\r\nconst oscillators = frequencies.map(function (frequency) {\r\n  const oscillator = context.createOscillator()\r\n  oscillator.type = 'sine'\r\n  oscillator.frequency.value = frequency\r\n  oscillator.start(0.0)\r\n  return oscillator\r\n})\r\n\r\nconst sounds = oscillators.map(function (oscillator) {\r\n  const gain = context.createGain()\r\n  oscillator.connect(gain)\r\n  gain.connect(context.destination)\r\n  gain.gain.value = 0\r\n  return gain\r\n})\r\n\r\nfunction playSound (i) {\r\n  sounds[i].gain.linearRampToValueAtTime(0.5, context.currentTime + ramp)\r\n}\r\n\r\nfunction stopSound (i) {\r\n  sounds[i].gain.linearRampToValueAtTime(0, context.currentTime + ramp)\r\n}\r\n\r\nfunction playError (callback = () => {}) {\r\n  errorSound.gain.linearRampToValueAtTime(1, context.currentTime + ramp)\r\n  window.setTimeout(() => {\r\n    errorSound.gain.linearRampToValueAtTime(0, context.currentTime + ramp)\r\n    callback()\r\n  }, 800)\r\n}\r\n\r\nexport { playSound, stopSound, playError }\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/sounds.js","import {stopSound, playError} from './sounds'\r\nimport {$pads, $info} from './scripts'\r\n\r\nfunction getRandomInt (min, max) {\r\n  min = Math.ceil(min)\r\n  max = Math.floor(max)\r\n  return Math.floor(Math.random() * (max - min)) + min\r\n}\r\n\r\nfunction triggerMouseEvent (node, eventType) {\r\n  const clickEvent = document.createEvent('MouseEvents')\r\n  clickEvent.initEvent(eventType, true, true)\r\n  node.dispatchEvent(clickEvent)\r\n}\r\n\r\nfunction updateCounter () {\r\n  $info.textContent = game.level\r\n}\r\n\r\nconst game = {\r\n  maxLevel: 20,\r\n  strict: false,\r\n  level: 1,\r\n  playerSequence: [],\r\n  gameSequence: [],\r\n  gameLength: 20,\r\n  newSequence () {\r\n    game.level = 1\r\n    updateCounter()\r\n    for (let i = 0; i < game.gameLength; i++) {\r\n      game.gameSequence.push(getRandomInt(0, 4))\r\n    }\r\n  },\r\n  verifySequence () {\r\n    for (let i = 0; i < game.playerSequence.length; i++) {\r\n      if (game.playerSequence[i] !== game.gameSequence[i]) {\r\n        if (game.strict) {\r\n          game.initGame()\r\n          return\r\n        }\r\n        game.playerSequence = []\r\n        playError(game.playSequence)\r\n        return\r\n      }\r\n    }\r\n    if (game.playerSequence.length === game.level) {\r\n      window.setTimeout(game.nextLevel, 500)\r\n    }\r\n  },\r\n  nextLevel () {\r\n    game.level++\r\n    if (game.level > game.maxLevel) {\r\n      $info.classList.remove('count')\r\n      $info.textContent = 'Won!'\r\n      window.setTimeout(game.initGame, 5000)\r\n      return\r\n    }\r\n    updateCounter()\r\n    game.playerSequence = []\r\n    game.playSequence()\r\n  },\r\n  updatePlayerSequence (i) {\r\n    game.playerSequence.push(i)\r\n    game.verifySequence()\r\n  },\r\n  playSequence () {\r\n    for (let i = 0; i < $pads.length; i++) {\r\n      stopSound(i)\r\n    }\r\n    let timeOut = 0\r\n    for (let i = 0; i < game.level; i++) {\r\n      window.setTimeout(() => {\r\n        $pads[game.gameSequence[i]].classList.add('playing')\r\n        triggerMouseEvent($pads[game.gameSequence[i]], 'mousedown')\r\n      }, timeOut)\r\n      timeOut += 600\r\n      window.setTimeout(() => {\r\n        triggerMouseEvent($pads[game.gameSequence[i]], 'mouseup')\r\n        $pads[game.gameSequence[i]].classList.remove('playing')\r\n      }, timeOut)\r\n      timeOut += 300\r\n    }\r\n  },\r\n  initGame () {\r\n    $info.classList.add('count')\r\n    game.gameSequence = []\r\n    game.playerSequence = []\r\n    game.newSequence()\r\n    game.playSequence()\r\n  }\r\n}\r\n\r\nexport default game\r\n\n\n\n// WEBPACK FOOTER //\n// ./scripts/game.js"],"sourceRoot":""}